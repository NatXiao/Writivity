<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Writivity - Détails du texte</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" type="image/x-icon" href="/gfx/icon2.png">
</head>
<body>
<header>
    <h1>Détails du Texte : <span th:text="${text.textTitle}"></span></h1>
</header>
<nav>
    <a href="/home">Homepage</a> |
    <a href="/profile">Profile</a> |
    <a href="/createChallenge">Create a new challenge</a> |
    <a href="/createText">Créer un texte</a>
    <tr th:if="${isAdmin == true}">
        | <a href="/stats">Admin</a>
    </tr>
</nav>
<main>
    <!-- Affichage des détails du texte -->
    <h2 th:text="${text.textTitle}">Titre du texte</h2>
    <h3>Soumis par : <span th:text="${text.userId.username}"></span></h3>
    <p><strong>Contenu : </strong><span th:text="${text.body}"></span></p>
    <p><strong>Statut : </strong><span th:text="${text.status}"></span></p>
    <p><strong>Date de soumission : </strong><span th:text="${text.submittedAt}"></span></p>

    <!-- Bouton pour signaler -->
    <button type="button">Signaler</button>

    <!-- Liste des commentaires -->
    <h4>Commentaires</h4>
    <div th:each="comment : ${text.comments}">
        <p><span th:text="${comment.body}"></span> - <span th:text="${comment.user.username}"></span></p>
    </div>

    <br><br>
    <a th:href="@{/challenge/{id}(id=${challengeId})}">Retour au Challenge</a>
</main>
<footer>
    <label><em>Copyright © 2025 Writivity™</em></label>
</footer>
</body>
</html>
